{"remainingRequest":"/Users/mr.wu/vueProject/vue-test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mr.wu/vueProject/vue-test/src/components/draggable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mr.wu/vueProject/vue-test/src/components/draggable.vue","mtime":1608714916726},{"path":"/Users/mr.wu/vueProject/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mr.wu/vueProject/vue-test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mr.wu/vueProject/vue-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mr.wu/vueProject/vue-test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"Toolbar\",\n  data() {\n    return {\n      items: [\n        { key: 0, color: \"#ffebcc\" },\n        { key: 1, color: \"#ffb86c\" },\n        { key: 2, color: \"#f01b2d\" },\n        { key: 3, color: \"#f01b2f\" },\n      ],\n      items1: [\n        { key: 4, color: \"#f01b4d\" },\n        { key: 5, color: \"#f01b0d\" },\n      ],\n      dragging: null,\n      insideDragging:null,\n      handleDragEnteritem: null,\n      handleDragEnteritem1: null,\n    };\n  },\n  methods: {\n    handleDragStart(e, item) {\n      this.insideDragging = item;\n      console.log(this.insideDragging,'insideDragging')\n    },\n    handleDragEnd(e, item) {\n      console.log(item,'item-------')\n      const newItems = [...this.items];\n      const src = newItems.indexOf(this.insideDragging);\n      const dst = newItems.indexOf(this.handleDragEnteritem);\n      if(src !== -1 && dst !== -1){\n        newItems.splice(dst, 1, ...newItems.splice(src, 1,this.handleDragEnteritem));\n        this.items = newItems;\n      }\n      this.handleDragEnteritem = null\n    },\n    //首先把div变成可以放置的元素，即重写dragenter/dragover\n    handleDragOver(e) {\n      e.dataTransfer.dropEffect = \"move\"; // e.dataTransfer.dropEffect=\"move\";//在dragenter中针对放置目标来设置!\n    },\n    handleDragEnter(e, item) {\n      console.log(item, \"handleDragEnter-item\");\n      this.handleDragEnteritem = item;\n    },\n\n    handleDragStart1(e, item) {\n      this.dragging = item;\n    },\n    handleDragEnd1(e, item) {\n      e.dataTransfer.dropEffect = \"\";\n      console.log(e, item, \"e-item\");\n      const newItems = [...this.items];\n      const newItems1 = [...this.items1];\n      console.log(newItems, newItems1);\n      console.log(this.dragging, \"this.dragging\", this.handleDragEnteritem);\n      const src = newItems1.indexOf(this.dragging);\n      let dst = newItems.indexOf(this.handleDragEnteritem);\n      console.log(src, dst, \"src-dst\");\n      if(src !== -1 && dst !== -1){\n        this.items.splice(dst, 1, ...newItems1.splice(src, 1));\n        this.items1.splice(src, 1, this.handleDragEnteritem);\n        // this.items = newItems;\n      }else{\n        dst = newItems1.indexOf(this.handleDragEnteritem1);\n        console.log(dst,'---dst',src)\n        newItems1.splice(dst, 1, ...newItems1.splice(src, 1,this.handleDragEnteritem1));\n        this.items1 = newItems1;\n      }\n      this.dragging = null;\n    },\n    //首先把div变成可以放置的元素，即重写dragenter/dragover\n    handleDragOver1(e) {\n      e.dataTransfer.dropEffect = \"move\"; // e.dataTransfer.dropEffect=\"move\";//在dragenter中针对放置目标来设置!\n    },\n    handleDragEnter1(e, item) {\n       this.handleDragEnteritem1 = item;\n    },\n  },\n};\n",{"version":3,"sources":["draggable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"draggable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"box\">\n    <div class=\"left\">\n      <div\n        tag=\"div\"\n        class=\"container\"\n      >\n        <div\n          class=\"item left-item\"\n          v-for=\"item in items\"\n          :key=\"item.key\"\n          :style=\"{background:item.color}\"\n          draggable=\"true\"\n          @dragstart=\"handleDragStart($event, item)\"\n          @dragover.prevent=\"handleDragOver($event, item)\"\n          @dragenter=\"handleDragEnter($event, item)\"\n          @dragend=\"handleDragEnd($event, item)\"\n        >\n          {{item.key}}\n        </div>\n      </div>\n    </div>\n    <div class=\"right\">\n      <div\n        tag=\"div\"\n        class=\"container1\"\n      >\n        <div\n          class=\"item\"\n          v-for=\"item in items1\"\n          :key=\"item.key\"\n          :style=\"{background:item.color}\"\n          draggable=\"true\"\n          @dragstart=\"handleDragStart1($event, item)\"\n          @dragover.prevent=\"handleDragOver1($event, item)\"\n          @dragenter=\"handleDragEnter1($event, item)\"\n          @dragend=\"handleDragEnd1($event, item)\"\n        >\n          {{item.key}}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"Toolbar\",\n  data() {\n    return {\n      items: [\n        { key: 0, color: \"#ffebcc\" },\n        { key: 1, color: \"#ffb86c\" },\n        { key: 2, color: \"#f01b2d\" },\n        { key: 3, color: \"#f01b2f\" },\n      ],\n      items1: [\n        { key: 4, color: \"#f01b4d\" },\n        { key: 5, color: \"#f01b0d\" },\n      ],\n      dragging: null,\n      insideDragging:null,\n      handleDragEnteritem: null,\n      handleDragEnteritem1: null,\n    };\n  },\n  methods: {\n    handleDragStart(e, item) {\n      this.insideDragging = item;\n      console.log(this.insideDragging,'insideDragging')\n    },\n    handleDragEnd(e, item) {\n      console.log(item,'item-------')\n      const newItems = [...this.items];\n      const src = newItems.indexOf(this.insideDragging);\n      const dst = newItems.indexOf(this.handleDragEnteritem);\n      if(src !== -1 && dst !== -1){\n        newItems.splice(dst, 1, ...newItems.splice(src, 1,this.handleDragEnteritem));\n        this.items = newItems;\n      }\n      this.handleDragEnteritem = null\n    },\n    //首先把div变成可以放置的元素，即重写dragenter/dragover\n    handleDragOver(e) {\n      e.dataTransfer.dropEffect = \"move\"; // e.dataTransfer.dropEffect=\"move\";//在dragenter中针对放置目标来设置!\n    },\n    handleDragEnter(e, item) {\n      console.log(item, \"handleDragEnter-item\");\n      this.handleDragEnteritem = item;\n    },\n\n    handleDragStart1(e, item) {\n      this.dragging = item;\n    },\n    handleDragEnd1(e, item) {\n      e.dataTransfer.dropEffect = \"\";\n      console.log(e, item, \"e-item\");\n      const newItems = [...this.items];\n      const newItems1 = [...this.items1];\n      console.log(newItems, newItems1);\n      console.log(this.dragging, \"this.dragging\", this.handleDragEnteritem);\n      const src = newItems1.indexOf(this.dragging);\n      let dst = newItems.indexOf(this.handleDragEnteritem);\n      console.log(src, dst, \"src-dst\");\n      if(src !== -1 && dst !== -1){\n        this.items.splice(dst, 1, ...newItems1.splice(src, 1));\n        this.items1.splice(src, 1, this.handleDragEnteritem);\n        // this.items = newItems;\n      }else{\n        dst = newItems1.indexOf(this.handleDragEnteritem1);\n        console.log(dst,'---dst',src)\n        newItems1.splice(dst, 1, ...newItems1.splice(src, 1,this.handleDragEnteritem1));\n        this.items1 = newItems1;\n      }\n      this.dragging = null;\n    },\n    //首先把div变成可以放置的元素，即重写dragenter/dragover\n    handleDragOver1(e) {\n      e.dataTransfer.dropEffect = \"move\"; // e.dataTransfer.dropEffect=\"move\";//在dragenter中针对放置目标来设置!\n    },\n    handleDragEnter1(e, item) {\n       this.handleDragEnteritem1 = item;\n    },\n  },\n};\n</script>\n \n<style scoped>\n.box {\n  width: 100%;\n  height: 100%;\n  display: flex;\n}\n.left {\n  flex: 4;\n  border-right: 1px solid #cccccc;\n  height: 100%;\n}\n.left > .container {\n  /* display: flex;\n  justify-content: space-around; */\n}\n.right {\n  flex: 1;\n  /* border: 1px solid #000; */\n  height: 100%;\n}\n.item {\n  width: 300px;\n  height: 300px;\n  text-align: center;\n  line-height: 300px;\n  color: #000;\n  font-size: 20px;\n  /* margin-top: 10px; */\n  transition: all linear 0.3s;\n}\n.container{\n  /* position: relative; */\n  width: 100%;\n  height: 100%;\n}\n.left-item{\n  /* position: absolute; */\n}\n.left-item:nth-child(1){\n  /* left: 0;\n  top: 0; */\n  transform:translate(0px,0px)\n}\n.left-item:nth-child(2){\n  /* right: 0;\n  top: 0; */\n  transform:translate(1000px,-300px)\n}\n.left-item:nth-child(3){\n  /* left: 0;\n  bottom: 0; */\n  transform:translate(0px,0px)\n}\n.left-item:nth-child(4){\n  /* right: 0;\n  bottom: 0; */\n  transform:translate(1000px,-300px)\n}\n</style>\n"]}]}